models:
  # Region
  Province:
    name: string
    relationships:
      hasMany: Regency
  Regency:
    province_id: foreign constrained onDelete:cascade
    name: string
    relationships:
      hasMany: District
      belongsTo: Province
  District:
    regency_id: foreign constrained onDelete:cascade
    name: string
    relationships:
      hasMany: village
      belongsTo: Regency
  Village:
    district_id: foreign constrained onDelete:cascade
    name: string
    relationships:
      belongsTo: District

  Company:
    name: string default:Yasuda Jaya Tour & Travel
    logo: string default:logo.png
    email: string nullable default:yasudajaya@gmail.com
    phone: string default:+628123456789
    balance: bigInteger default:0

  # User (for login):
  #   name: string
  #   email: string unique
  #   avatar_url: string
  #   email_verified_at: datetime
  #   password: string
  #   relationships:
  #     hasOne: Employee

  Employee:
    user_id: foreign constrained onDelete:cascade
    name: string index
    photo: string
    phone: string
    address: string
    role: string:50
    relationships:
      belongsTo: User

  Debt:
    debtor: string
    date: datetime
    due_date: datetime nullable
    amount: bigInteger
    status: string:50

  Receivable:
    creditor: string
    date: datetime
    due_date: datetime nullable
    amount: bigInteger
    status: string:50

  TourPackage:
    image: string nullable
    name: string unique
    city: string
    description: longText
    duration: integer
    order_total: integer default:0
    price: bigInteger

  Customer:
    name: string
    institution: string index
    category: string:50
    email: string unique nullable
    phone: string
    relationships:
      hasMany: Order
    
  TourLeader:
    name: string index
    photo: string
    email: string unique nullable
    phone: string unique
    gender: string:50
    address: string
    relationships:
      belongsTo: OrderBus

  Bus:
    image: string
    name: string index
    description: longText
    seat_total: integer
    left_seat: tinyInteger
    right_seat: tinyInteger
    type: string:50
    price: bigInteger
    relationships:
      hasMany: BusAvailability

  BusAvailability:
    bus_id: foreign constrained onDelete:cascade
    status: string:50
    date: datetime
    relationships:
      belongsTo: Bus

  Order:
    customer_id: foreign constrained onDelete:cascade
    number_of_people: integer
    tour_package_id: foreign constrained onDelete:cascade
    payment_status: string:50
    banner_status: string:50
    status: string:50
    start_date: datetime
    end_date: datetime nullable
    detail: longText
    relationships:
      hasMany: OrderBus
      belongsTo: Customer

  OrderBus:
    order_id: foreign constrained onDelete:cascade
    tour_leader_id: foreign constrained onDelete:cascade
    bus_availability_id: foreign constrained onDelete:cascade
    relationships:
      belongsTo: Order,TourLeader
      hasOne: TourLeader

  Payment:
    order_id: foreign constrained onDelete:cascade
    amount: bigInteger
    total: bigInteger
    method: string:50
    status: string:50

  Revenue:
    order_id: foreign constrained onDelete:cascade
    payment_id: foreign constrained onDelete:cascade
    restaurant: bigInteger nullable
    souvenir: bigInteger nullable
    shirt: bigInteger nullable
    hotel: bigInteger nullable
    snack: bigInteger nullable
    catering: bigInteger nullable
    gross_income: bigInteger
    net_income: bigInteger

  Tax:
    institution: string
    date: datetime
    status: string:50
    amount: bigInteger

  EmployeeSalary:
    user_id: foreign constrained onDelete:cascade
    amount: bigInteger
    date: datetime
    working_day: integer

  TourLeaderSalary:
    tour_leader_id: foreign constrained onDelete:cascade
    amount: bigInteger
    date: datetime

  Incident:
    name: string
    date: datetime
    description: longText
    loss: bigInteger nullable
    status: string:50

  Feedback:
    order_id: foreign constrained onDelete:cascade
    text: longText

  Meeting:
    customer_id: foreign constrained onDelete:cascade
    name: string
    date: datetime
    status: string:50

  Brochure:
    institution: string
    category: string:50
    date: datetime
    status: string:50
